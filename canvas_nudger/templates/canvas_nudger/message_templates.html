{% load dict_extras %}

<style>
    .container {
        max-width: 750px;
        margin: 2em auto;
        background: #ffffff;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 24px 28px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.04);
    }

    h1 {
        font-size: 1.6em;
        font-weight: 600;
        color: #111827;
        margin-bottom: 0.4em;
    }

    .subtitle {
        color: #4b5563;
        margin-bottom: 1.4em;
    }

    .template-section {
        margin-bottom: 2em;
    }

    .template-label {
        font-weight: 600;
        margin-bottom: 6px;
        display: block;
        color: #374151;
    }

    textarea {
        width: 100%;
        min-height: 160px;
        padding: 10px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        background: #f9fafb;
        font-size: 0.95em;
        font-family: system-ui, sans-serif;
        line-height: 1.4;
        resize: vertical;
    }

    textarea:focus {
        outline: none;
        border-color: #2563eb;
        box-shadow: 0 0 0 2px rgba(37,99,235,0.2);
        background: #ffffff;
    }

    .btn {
        padding: 10px 16px;
        border-radius: 4px;
        border: none;
        cursor: pointer;
        font-size: 0.95em;
        margin-right: 8px;
    }

    .btn-primary {
        background: #2563eb;
        color: white;
    }

    .btn-primary:hover {
        background: #1d4ed8;
    }

    .btn-secondary {
        background: #6b7280;
        color: white;
    }

    .btn-secondary:hover {
        background: #4b5563;
    }

    .back-link {
        display: inline-block;
        margin-top: 1.4em;
        padding: 8px 14px;
        background: #6b7280;
        color: white;
        text-decoration: none;
        border-radius: 4px;
    }

    .back-link:hover {
        background: #4b5563;
    }
</style>

<div class="container">
    <h1>Message Templates</h1>
    <p class="subtitle">Edit the default messages used when generating student messages.</p>

    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}

        <div class="template-section">
            <label class="template-label">üéâ Congratulations Message</label>
            <textarea name="template_congrats" id="template_congrats">{{ form.initial.template_congrats }}</textarea>
        </div>

        <div class="template-section">
            <label class="template-label">üí™ Encouragement Message</label>
            <textarea name="template_encourage" id="template_encourage">{{ form.initial.template_encourage }}</textarea>
        </div>

        <button type="submit" name="action" value="save" class="btn btn-primary">
            Save Templates
        </button>

        <button type="submit" name="action" value="preview" class="btn btn-secondary">
            Preview Template
        </button>
    </form>

    <a href="{% url 'start' %}" class="back-link">‚Üê Back to Start</a>
</div>