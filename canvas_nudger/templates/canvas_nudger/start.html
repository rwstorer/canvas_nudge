<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.js"></script>

<style>
.button-link {
    display: inline-block;
    padding: 8px 14px;
    background: #007bff;
    color: white;
    text-decoration: none;
    border-radius: 4px;
}
.button-link:hover {
    background: #0056b3;
}    
</style>

<h1>Canvas Nudger</h1>

<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Continue</button>
</form>

<a href="{% url 'message_templates' %}" class="button-link">
    Edit Message Templates
</a>

<!-- Your initialization script -->
<script>
function initWidgets() {
    // Flatpickr
    flatpickr("#start_date", {
        enableTime: true,
        dateFormat: "Y-m-d H:i",
    });

    flatpickr("#end_date", {
        enableTime: true,
        dateFormat: "Y-m-d H:i",
    });
}

// Initial load
document.addEventListener("DOMContentLoaded", initWidgets);

// Reinitialize after HTMX swaps
document.body.addEventListener("htmx:afterSwap", function(evt) {
    initWidgets();
});
</script>
